FROM rockylinux:9

#From the base Image rockylinux 
#Maintained by Diwakar Raju Valivarthi
LABEL MAINTAINER vdr007

#Suitable for production workloads
LABEL env=production

#Setting working directory
ENV workdir /var/lib

#Creating our work locations
RUN mkdir -p $workdir

#Installing just the required dependancies
RUN dnf update -y \
    && dnf install -y java-11-openjdk java-11-openjdk-devel

#Downloading jenkins war package
ADD https://get.jenkins.io/war-stable/2.426.1/jenkins.war $workdir

#Switching to working directory
WORKDIR $workdir

#Exposing the port to run Jenkins
EXPOSE 8080

#Executing Jenkins at workdir
CMD ["java","-jar","jenkins.war"]
